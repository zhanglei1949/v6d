

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Frequently Asked Questions &mdash; vineyard  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/vineyard.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Troubleshooting" href="troubleshooting.html" />
    <link rel="prev" title="Python API Reference" href="python_api.html" />

 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6CYXWKLJB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6CYXWKLJB8');
</script>


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> vineyard
          

          
          </a>

          
            
            
              <div class="version">
                0.2.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="divein.html">Diving into vineyard</a></li>
<li class="toctree-l1"><a class="reference internal" href="ml.html">Machine Learning with Vineyard</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ctl.html">vineyard-cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp_api.html">C++ API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_api.html">Python API Reference</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to vineyard</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">vineyard</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Frequently Asked Questions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/notes/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<p>We organize questions which are frequently asked by our end users as a <em>FAQ</em> page here.
If the following sections still doesn’t answer your question, feel free to <a class="reference external" href="https://github.com/v6d-io/v6d/issues/new">open an issue</a>
or <a class="reference external" href="https://github.com/v6d-io/v6d/discussions/new">post it to discussions</a>.</p>
<ol class="arabic simple">
<li><p><em>What are the objects in vineyard?</em></p></li>
</ol>
<blockquote>
<div><p>A global object consists of a set of local objects distributed across the cluster,
where each local object is stored in a single vineyard daemon (a local object can
always fit into the memory of a single machine).</p>
<p>The local objects form a partition of the global object (e.g., partitioned dataframes
of a big dataframe, graph fragments of a big graph). In general, a global object
is an abstraction of the input or output of a parallel-processing workload, whereas
a local object is the input or output of a single worker of workload.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p><em>Does vineyard support multiple readers on the same piece of data at the same time?</em></p></li>
</ol>
<blockquote>
<div><p>Yes. The objects stored in vineyard are <strong>immutable</strong> and they are shared to the
readers’ processes via memory mapping. Thus it is safe to consume the objects by
multiple readers at the same time.</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p><em>Is Kubernetes a necessity for vineyard?</em></p></li>
</ol>
<blockquote>
<div><p>No. But when deploying vineyard on Kubernetes, users can enjoy the flexibility of
resource management provided by cloud-native deployments for the workloads of their
applications. Meanwhile, the scheduler plugin will help co-locate the worker pods
to the data for better data-work alignment.</p>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p><em>How vineyard achieves IPC and memory sharing (i.e., zero-copy sharing) on Kubernetes?</em></p></li>
</ol>
<blockquote>
<div><p>Inter-process memory sharing is tricky in Kubernetes, but it is doable. When
deploying on Kubernetes, vineyard exposes its UNIX-domain socket as a <code class="code docutils literal notranslate"><span class="pre">PersistVolume</span></code>,
then the volume could be mounted into the job’s pod and the socket could be used
for IPC connections to the vineyard daemon. Indeed, the memory sharing is achieved
by mounting a volume of medium <code class="code docutils literal notranslate"><span class="pre">Memory</span></code> into both vineyard daemon’s pod and
the job’s pod.</p>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p><em>How stream in vineyard differs from similar systems, e.g., Kafka?</em></p></li>
</ol>
<blockquote>
<div><p>The stream in vineyard is the abstraction of a sequence of objects, where each object
is generally a small part of the entire object (e.g., a mini-batch of a tensor).
Such an abstraction is designed to support cross-engine pipelining between consecutive
workers in a data analytic pipeline (e.g., a dataframe engine is generating training
data while the next machine learning engine can consume the data and train the model
simultaneously).</p>
<p>The biggest difference to traditional stream frameworks like Kafka is that the data
are still abstracted as (high-level) objects in Vineyard stream and can be consumed
in a zero-copy fashion just like normal objects in Vineyard. Whereas Kafka is designed
for stream processing applications and abstracts data as (low-level) messages. Using
Kafka in the above scenario still incurs (de)serialization and memory copy costs.</p>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p><em>Does vineyard support accessing remote objects?</em></p></li>
</ol>
<blockquote>
<div><p>Yes. The RPC client can access the metadata of an object no matter the object is local
or remote. This allows users as well as internal operators examine the information (e.g.,
chunk axis, size) of an object to help make decisions on the management (e.g., do we
need to repartition the object, how to launch the next workload) of the object.</p>
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p><em>How migration works in vineyard? Is it automatically triggered?</em></p></li>
</ol>
<blockquote>
<div><p>Support workload <em>A</em> produces a global object <em>O</em> and the next workload <em>B</em> will consume
<em>O</em> as input. On a Kubernetes cluster with many hosts, namely <em>h1</em>, <em>h2</em>, <em>h3</em>, <em>h4</em>,
etc. <em>A</em> has two worker pods on <em>h1 and *h2</em>, then the local objects (i.e., <em>O1</em> and
<em>O2</em>) of <em>O</em> are stored on <em>h1</em> and <em>h2</em> as well.</p>
<p>If those two worker pods of <em>B</em> (i.e., <em>B1</em> and <em>B2</em>) are placed at <em>h1</em> and <em>h3</em>,
then <em>B1</em> can access <em>O1</em> locally via memory mapping, but <em>B2</em> (on <em>h3</em>) cannot
access <em>O2</em> since <em>O2</em> lies on <em>h2</em>. In this case, an utility program distributed
along with vineyard in the <code class="code docutils literal notranslate"><span class="pre">initContainer</span></code> of <em>B2</em> will trigger the migration
of <em>O2</em> from <em>h2</em> to <em>h3</em> so that pod <em>B2</em> can access <em>O2</em> locally.</p>
<p>Of course the data migration has a cost, so we developed the scheduler plugin which will
prioritize h2 when launching B2 to avoid migration when possible.</p>
</div></blockquote>
</div>


           </div>
           
          </div>
          <footer>
      <div class="rst-footer-buttons" role="navigation" aria-label="Footer">
          <a href="python_api.html" class="btn btn-neutral float-left" title="Python API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
          <a href="troubleshooting.html" class="btn btn-neutral float-right" title="Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      </div>
  
    <hr/>
  
    <div role="contentinfo">

      <p>
        Vineyard is a <a href="https://www.cncf.io/sandbox-projects/">CNCF sandbox project</a>.
      </p>
      <img src="https://v6d.io/_static/cncf-color.svg" alt="CLOUD NATIVE COMPUTING FOUNDATION" width="40%"/>
      <p>
        The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation,
        please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage page</a>.
      </p>

      <hr/>&#169; Copyright 2019-2021, The Vineyard Contributors.

      <p></p>
    </div>
  
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
      <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>provided by <a href="https://readthedocs.org">Read the Docs</a>.
     
  
  </footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>